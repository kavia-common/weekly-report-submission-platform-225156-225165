{"is_source_file": true, "format": "JavaScript/JSX", "description": "This React component, FormHistory, fetches and displays a list of weekly reports for the authenticated user from a Supabase backend. It manages UI states such as loading, error, and empty states, and displays report summaries as a grid of cards. Each card includes a 'More info' button that opens a modal with detailed report data.", "external_files": ["../components/Modal", "../utils/supabaseClient", "./form-history.css"], "external_methods": ["supabase.auth.getSession()", "supabase.auth.onAuthStateChange()", "supabase.from('weekly_reports').select()"], "published": ["FormHistory"], "classes": [], "methods": [{"name": "renderField", "description": "Helper function to render report fields with label and value, handling null or empty values gracefully."}, {"name": "makeTitle", "description": "Generates a human-readable title for a report based on its created_at timestamp."}, {"name": "load()", "description": "Async function that fetches the current user session and their reports from the database, updating component state accordingly.", "scope": "FormHistory", "scopeKind": "function"}, {"name": "openModal", "description": "Sets the selected report data and opens the modal to display detailed information."}, {"name": "closeModal", "description": "Closes the report detail modal and clears the selected report state."}, {"name": "FormHistory()", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["supabase.auth.getSession", "supabase.auth.onAuthStateChange", "supabase.from('weekly_reports').select", "setReports", "setLoading", "setError"], "search-terms": ["FormHistory React component", "supabase weekly_reports fetch", "user reports grid", "report modal display", "user authentication state"], "state": 2, "file_id": 32, "knowledge_revision": 118, "git_revision": "d4b57471d09c8a106ceaa31913d75cc601739885", "revision_history": [{"104": ""}, {"110": ""}, {"112": "04bb01d2c58a75fe11515ab2fbfb105b2bd2eb02"}, {"113": "5155f982a6f372bbf4fb02fa9c35ae470aa1db70"}, {"114": "ea7a788feec564e6d74089b7d2840d8e0da3196e"}, {"117": "7103ddb356ef69668fedf0635374ab0a1aeae31c"}, {"118": "d4b57471d09c8a106ceaa31913d75cc601739885"}], "ctags": [{"_type": "tag", "name": "FormHistory", "path": "/home/kavia/workspace/code-generation/weekly-report-submission-platform-225156-225165/weekly_report_submission_frontend/src/pages/FormHistory.jsx", "pattern": "/^export function FormHistory() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "closeModal", "path": "/home/kavia/workspace/code-generation/weekly-report-submission-platform-225156-225165/weekly_report_submission_frontend/src/pages/FormHistory.jsx", "pattern": "/^        onClose={closeModal}$/", "language": "JavaScript", "kind": "field", "scope": "onClose", "scopeKind": "class"}, {"_type": "tag", "name": "isOpen", "path": "/home/kavia/workspace/code-generation/weekly-report-submission-platform-225156-225165/weekly_report_submission_frontend/src/pages/FormHistory.jsx", "pattern": "/^        isOpen={isOpen}$/", "language": "JavaScript", "kind": "field", "scope": "isOpen", "scopeKind": "class"}, {"_type": "tag", "name": "load", "path": "/home/kavia/workspace/code-generation/weekly-report-submission-platform-225156-225165/weekly_report_submission_frontend/src/pages/FormHistory.jsx", "pattern": "/^    async function load() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "FormHistory", "scopeKind": "function"}, {"_type": "tag", "name": "primaryActionRef", "path": "/home/kavia/workspace/code-generation/weekly-report-submission-platform-225156-225165/weekly_report_submission_frontend/src/pages/FormHistory.jsx", "pattern": "/^        initialFocusRef={primaryActionRef}$/", "language": "JavaScript", "kind": "field", "scope": "initialFocusRef", "scopeKind": "class"}, {"_type": "tag", "name": "selected", "path": "/home/kavia/workspace/code-generation/weekly-report-submission-platform-225156-225165/weekly_report_submission_frontend/src/pages/FormHistory.jsx", "pattern": "/^        title={selected ? makeTitle(selected.created_at) : 'Report details'}$/", "language": "JavaScript", "kind": "field", "scope": "title", "scopeKind": "class"}], "hash": "c6c34be689bf7d7666ce886de09b2b0b", "format-version": 4, "code-base-name": "weekly_report_submission_frontend", "filename": "weekly_report_submission_frontend/src/pages/FormHistory.jsx", "fields": [{"name": "onClose={closeModal}", "scope": "onClose", "scopeKind": "class", "description": "unavailable"}, {"name": "isOpen={isOpen}", "scope": "isOpen", "scopeKind": "class", "description": "unavailable"}, {"name": "initialFocusRef={primaryActionRef}", "scope": "initialFocusRef", "scopeKind": "class", "description": "unavailable"}, {"name": "title={selected ? makeTitle(selected.created_at) : 'Report details'}", "scope": "title", "scopeKind": "class", "description": "unavailable"}]}